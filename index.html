<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laboratori de Divisibilitat Pro</title>
    <style>
        :root { --primary: #4f46e5; --ultra: #7c3aed; --success: #22c55e; --error: #ef4444; --bg: #f8fafc; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #1e293b; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        /* PANTALLES */
        .screen { display: none; }
        .screen.active { display: block; }

        /* MENÃš INICIAL */
        #menuScreen { text-align: center; }
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        .menu-card { background: #f1f5f9; padding: 20px; border-radius: 15px; border: 2px solid #e2e8f0; }
        .lvl-btn { width: 100%; margin: 8px 0; padding: 14px; border: 1px solid #cbd5e1; border-radius: 10px; cursor: pointer; font-weight: bold; background: white; transition: 0.2s; }
        .lvl-btn:hover { background: var(--primary); color: white; border-color: var(--primary); }
        .ultra-btn { background: #1e293b; color: #a78bfa; border: 2px solid #7c3aed; font-size: 1.1rem; }
        .ultra-btn:hover { background: var(--ultra); color: white; }

        /* HUD (BARRA ESTATS) */
        .stats-bar { display: grid; grid-template-columns: 1fr 1fr 1fr; align-items: center; background: #1e293b; color: white; padding: 15px 25px; border-radius: 12px; margin-bottom: 20px; }
        .timer-bar { width: 100%; height: 8px; background: #475569; border-radius: 4px; margin-top: 5px; overflow: hidden; }
        #timerProgress { width: 100%; height: 100%; background: var(--success); transition: width 1s linear; }

        /* TAULA DE JOC */
        table { width: 100%; border-collapse: separate; border-spacing: 5px; }
        th { background: #f1f5f9; padding: 12px; border-radius: 8px; font-size: 0.85rem; }
        td { background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; text-align: center; height: 60px; font-weight: bold; font-size: 1.1rem; }
        .check-cell { cursor: pointer; font-size: 1.4rem; color: transparent; transition: 0.2s; }
        .check-cell:hover { background: #f8fafc; }
        .check-cell.correct { background: #dcfce7 !important; color: #166534 !important; border-color: var(--success); }
        .check-cell.wrong { background: #fee2e2 !important; color: #991b1b !important; border-color: var(--error); }

        /* RESUM FINAL (OVERLAY) */
        #summaryOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background
